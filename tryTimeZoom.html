<!DOCTYPE html>
<html>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load('visualization', '1', {packages: ['controls', 'charteditor']});
        google.setOnLoadCallback(prepData);

        function prepData() 
        {
            var _dataSourceURL = 'https://docs.google.com/spreadsheets/d/1dA8PHN4UaMDZ02Tqt4HrcuShV90zWnPkbUpGb2_Dtzg'
            //setting date range from 1 to 100
            var _urlSubWoQuery = '/gviz/tq?range=&tq='
            //close & high
            var queryStringClose = encodeURIComponent('SELECT A, B');

            var query = new google.visualization.Query(_dataSourceURL + _urlSubWoQuery + queryStringClose);
            query.send(handleSampleDataQueryResponse);
        }

        function handleSampleDataQueryResponse(response) 
        {
            if (response.isError()) {
                    alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
                    return;
                }

            var data = response.getDataTable();
    
            var dash = new google.visualization.Dashboard(document.getElementById('dashboard'));

            var control = new google.visualization.ControlWrapper({
                controlType: 'ChartRangeFilter',
                containerId: 'control_div',
                options: {
                    filterColumnIndex: 0,
                    ui: {
                        chartOptions: {
                            height: 50,
                            width: 600,
                            chartArea: {
                                width: '80%'
                            }
                        }
                    }
                }
            });

            var chart = new google.visualization.ChartWrapper({
                chartType: 'LineChart',
                containerId: 'chart_div'
            });

            function setOptions (wrapper) 
            {
                wrapper.setOption('width', 620);
                wrapper.setOption('chartArea.width', '80%');
            }
    
            setOptions(chart);
            
            dash.bind([control], [chart]);
            dash.draw(data);
            google.visualization.events.addListener(control, 'statechange', function () {
                var v = control.getState();
                document.getElementById('dbgchart').innerHTML = v.range.start+ ' to ' +v.range.end;
                return 0;
            });
}

</script>
<div id="dashboard">
    <div id="chart_div"></div>
    <div id="control_div"></div>
<p><span id='dbgchart'></span></p>
</div>
</html>